# group-work-of-shijin
我们的题目是《城市更新背景下的应急管控能力评估：基于纽约市 2016–2025 年多源空间数据的实证研究》，为此我们选择了Pluto（纽约市建筑物数据集）、DOB（建筑物许可证数据集）、LinkNYC（Wifi分布情况数据集）进行研究，我们的研究主要分为六个阶段：
阶段一：多时相 PLUTO 融合与建筑演化识别
  目标：识别2016–2025年地块层级建筑更新、功能转换与密度变化。
  方法：1、使用merge.py这份代码将2016年和2017年的数据整合，因为这两份数据是按纽约市自治区分成了五份
        2、使用clean_pluto_all_years.py这份代码对整合十年数据集，并统一核心字段命名；对早期版本缺失字段自动补 NaN；输出统一结构的年度汇总文件
        3、使用pluto_change_detection.py这份代码进行建筑演化识别与变化分类分析，输出每个地块的变化分类、年度更新比例和一张年度变化趋势图
        4、为进行结果的动态可视化展示，收集MapPluto这份数据集2016年-2025年的版本，使用clean_mappluto_all_years_geo.py这份代码整合年份，处理 2016–2017 年的分行政区结构；并保留核心字段+geometry；             最后输出统一的 GeoJSON 文件，可用于后续空间分析与可视化。
        5、使用pluto_map_time_slider.py这份代码输出html格式的年度变化地图，实现基于纽约市地图以不同色块展示这十年间建筑物的变化，同时能够以滑块形式进行操作。
阶段二：建筑更新强度量化
  目标：结合DOB数据验证建筑变化并量化更新强度
  方法：使用pluto_update_index.py读取整合后的 PLUTO 数据 (CSV 或 GeoJSON),读取 DOB CO 数据（CSV）,按年份和地块编号 (BBL) 匹配，统计建筑更新数量,计算 Borough 级年度建筑更新强度 (UpdateIndex),          输出指标表 + 轻量版 Borough 热力地图。
阶段三：通信设施空间融合
  目标：分析 LinkNYC 节点的空间覆盖及其与应急系统的协同
  方法：1、使用clean.py读取LinkNYC节点数据；清洗字段并提取激活年份；转换为 GeoDataFrame（EPSG:4326）；生成年度累计趋势图；生成带时间滑块的热力图（叠加纽约市边界）
        2、使用eci_d.py统计每个 NTA（社区区块）内的 LinkNYC 节点数量；计算平均最近邻距离（Nearest Neighbor Distance）；综合形成通信密度指数（ECI）并输出可视化。
        3、使用eci_time.py从active_date提取安装年份；计算每个社区每年的通信密度指数（ECI）；使用时间滑块展示ECI指数的年度变化；无节点社区保持灰色，输出交互式时间动态地图
阶段四：建筑需求因子建模
  目标：引入建筑类型和住宅单元数，刻画应急通信需求强度。
  方法：1、使用calc_building_demand.py先在地块层面计算 D，再把 D 聚合到 NTA（社区）层面供后续阶段使用。地图使用 NTA 多边形着色（对数增强，YlOrRd 色带）。
        2、使用D_time.py在前者基础上新增时间滑块地图展示 D 指标的年度变化。
阶段五：应急服务协同与应急管控能力指数建模
  目标：基于阶段一至四数据计算emci指数
  方法：使用forecast.py进行数据集成与预处理，计算2016-2025年EMCI指数并预测2026-2030emci指数；时空可视化，预测分析
阶段六：基于建筑更新强度、通信能力、需求强度、协同度与综合管控指数的K-Means聚类分析
  目标：识别不同类型社区并给出针对性建议
  方法：基于建筑更新强度、通信能力、需求强度、协同度与综合管控指数采用K-Means算法进行社区分类；生成PCA降维散点图展示聚类分布，空间分布地图显示地理格局，统计图表对比各类别特征差异；根据各类别特征表现进         行语义化命名。
阶段七：使用nyc_dashboard.py整合前面阶段成果并以dash形式展示。
